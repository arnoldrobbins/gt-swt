      INTEGER ARG1(102),ARG2(102),LINE(102)
      INTEGER DEFAU0(10)
      INTEGER COUNT,SOURCE
      INTEGER * 4 NUMBER
      INTEGER OPEN,INPUT,GETARG,GETLIN
      DATA DEFAU0/223,243,244,223,227,239,245,238,244,0/
      IF((GETARG(1,ARG1,102).NE.-1))GOTO 10000
        CALL ERROR('Usage:  st_profile [<count_file>] <source_file>.')
10000 IF((GETARG(2,ARG2,102).NE.-1))GOTO 10001
        CALL SCOPY(ARG1,1,ARG2,1)
        CALL SCOPY(DEFAU0,1,ARG1,1)
10001 COUNT=OPEN(ARG1,1)
      IF((COUNT.NE.-3))GOTO 10002
        CALL CANT(ARG1)
10002 SOURCE=OPEN(ARG2,1)
      IF((SOURCE.NE.-3))GOTO 10003
        CALL CLOSE(COUNT)
        CALL CANT(ARG2)
10003 CONTINUE
10004 IF((INPUT(COUNT,'*l.',NUMBER).EQ.-1))GOTO 10005
        IF((NUMBER.NE.0))GOTO 10006
          CALL PRINT(-11,'          .')
          GOTO 10007
10006     CALL PRINT(-11,'*10l.',NUMBER)
10007   CALL PUTCH(160,-11)
        CALL PUTCH(252,-11)
        IF((GETLIN(LINE,SOURCE).NE.-1))GOTO 10008
          CALL REMARK('premature end of source file.')
          GOTO 10005
10008   CALL PUTLIN(LINE,-11)
      GOTO 10004
10005 CALL CLOSE(SOURCE)
      CALL CLOSE(COUNT)
      CALL SWT
      END
C ---- Long Name Map ----
C defaultcountfile               defau0
